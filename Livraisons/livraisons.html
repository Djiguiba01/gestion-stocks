<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="../images/sitelogo/favicon.ico"> <!-- Remplacez le chemin par celui de votre image -->

    <link rel="stylesheet" href="../index.css">
    <link rel="stylesheet" href="../Livraisons/livraisons.css">
    <title>Menu</title>
</head>
<body>
    <div class="menu-container">
        <header class="menu-header">
            <img src="images/logo22.png" alt="Logo" class="header-logo">
            <h1>Groupe Sankore</h1>
            <div class="menu-icon" id="menuToggle">&#9776;</div>
        </header>
        <div class="menu-content">
            <aside class="menu-aside" id="menuAside">
                <ul>
                    <li><a href="../index.html" class="card" data-path="stock">Stock</a></li>
                    <li><a href="../Commandes/commandes.html" class="card" data-path="commandes">Commandes</a></li>
                    <li><a href="../Livraisons/livraisons.html" class="card" data-path="livraisons">Livraisons</a></li>
                    <li><a href="../Ventes/ventes.html" class="card" data-path="ventes">Ventes</a></li>
                </ul>
            </aside>
            <main class="menu-main" id="mainContent">
                <div class="pagedetail">
                    <h2>La liste livraisons</h2>
                </div>
                <ul id="livraisons-list"></ul>
                 <!-- Bouton flottant pour ajouter -->
            <button id="addButton" class="float-button">Ajouter</button>
        
            <!-- Popup d'ajout de livraison -->
            <div id="overlay" class="overlay"></div>

            <div id="popupForm" class="popup">
                <span class="close"  id="cancelButton" >&times;</span>

                <form id="livraisonForm">
                    <h2>Ajouter une Livraison</h2>
                    
                    <label for="destination">Destination:</label>
                    <input type="text" id="destination" name="destination" required>
                    
                    <label for="designation">Désignation:</label>
                    <input type="text" id="designation" name="designation" required>
                    
                    <label for="variete">Variété:</label>
                    <input type="text" id="variete" name="variete" required>
                    
                    <label for="quantite">Quantité:</label>
                    <input type="number" id="quantite" name="quantite" min="1" required>
                    
                    <label for="unite">Unité:</label>
                    <select id="unite" name="unite" required>
                        <option value="">Sélectionnez une unité</option> <!-- Ajoutez une option vide -->
                        <option value="Gr">Gr</option>
                        <option value="Kg">Kg</option>
                        <option value="boîte(s)">Boîte(s)</option>
                        <option value="Carton(s)">Carton(s)</option>
                        <option value="Pièce(s)">Pièce(s)</option>
                    </select>
                
                    <label for="date">Date:</label>
                    <input type="text" id="date" name="date" disabled>
                
                    <!-- Conteneur pour les boutons -->
                    <div class="form-buttons">
                        <button type="button" id="suivantButton">Suivant</button>
                        <button type="submit">Enregistrer</button>
                        <!-- <button type="button" id="cancelButton">Annuler</button> -->
                    </div>
                </form>
                
            </div>
</div>
           
<!-- Popup de détails de livraison -->
<!-- Popup de détails de la livraison -->
<div id="detailPopup" class="popup" style="display: none;">
    <span class="close" id="closeDetailPopup" >&times;</span>

    <div class="popup-content">
        <h2 style="text-align: center;">Détails de la livraison</h2>
        <p id="popupMessage"></p>
        <div class="button-container"> <!-- Conteneur pour les boutons -->
            <button id="viewDetailButton">Voir les détails</button>
            <button id="deleteButton">Supprimer</button>
            <!-- <button id="closeDetailPopup">Fermer</button> -->
        </div>
    </div>
</div>

<!-- Popup de confirmation de suppression -->
<div id="deleteConfirmationPopup" class="popup" style="display: none;">

    <div class="popup-content">
        <h2 style="text-align: center;">Confirmation</h2>
        <p style="text-align: center;">Êtes-vous sûr de vouloir supprimer cette livraison ?</p>
        <div class="button-container"> <!-- Conteneur pour les boutons -->
            <button id="confirmDeleteButton">Supprimer</button>
            <button id="cancelDeleteButton">Annuler</button>
        </div>
    </div>
</div>




            
            </main>
        </div>
        <div class="popup-menu" id="popupMenu" style="display: none;">
            <ul>
                <li><a href="../index.html" class="popup-card" data-path="stock">Stock</a></li>
                <li><a href="../Commandes/commandes.html" class="popup-card" data-path="commandes">Commandes</a></li>
                <li><a href="../Livraisons/livraisons.html" class="popup-card" data-path="livraisons">Livraisons</a></li>
                <li><a href="../Ventes/ventes.html" class="popup-card" data-path="ventes">Ventes</a></li>
            </ul>
        </div>
    </div>

    <script src="../index.js"></script>
    <script src="../Livraisons/livraisons.js"></script>
    <script>
        // Fonction pour marquer le menu sélectionné dans les deux menus (principal et popup)
        function highlightSelectedMenu() {
            const menuLinks = document.querySelectorAll('.menu-aside ul li a, .popup-menu ul li a');
            const currentPath = window.location.pathname.split('/').pop(); // Récupère le nom de la page actuelle

            menuLinks.forEach(link => {
                const linkPath = link.getAttribute('href').split('/').pop(); // Récupère le nom de la page du lien
                if (linkPath === currentPath) {
                    link.classList.add('selected'); // Ajoute la classe 'selected' si l'URL correspond
                } else {
                    link.classList.remove('selected'); // Retire la classe 'selected' si l'URL ne correspond pas
                }
            });
        }

        // Appelle la fonction pour marquer le menu sélectionné
        highlightSelectedMenu();

        // Code pour afficher/masquer le menu popup
        const menuToggle = document.getElementById('menuToggle');
        const popupMenu = document.getElementById('popupMenu');

        menuToggle.addEventListener('click', () => {
            popupMenu.style.display = popupMenu.style.display === 'none' ? 'block' : 'none';
        });
    </script>

</body>
</html>